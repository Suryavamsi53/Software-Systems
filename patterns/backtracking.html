<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Backtracking Pattern - Software Systems Interview</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>üåë Software Systems</h1>
        <p>Coding Interview Prep</p>
      </div>
      <nav class="sidebar-nav">
        <a href="../index.html" class="nav-item">üè† Home Dashboard</a>
    
        <!-- Linear Data Structures -->
        <details class="nav-section">
          <summary class="nav-section-title">Linear Data Structures</summary>
          <a href="linked-lists.html" class="nav-item">Linked Lists</a>
          <a href="linked-list-reversal.html" class="nav-item indent">‚Ü≥ Visualizer: Reversal</a>
          <a href="linked-list-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Operations</a>
          <a href="stack.html" class="nav-item">Stacks</a>
          <a href="stack-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Stack</a>
          <a href="queues.html" class="nav-item">Queues</a>
          <a href="queue-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Queue</a>
        </details>
    
        <!-- Non-Linear Data Structures -->
        <details class="nav-section">
          <summary class="nav-section-title">Non-Linear Data Structures</summary>
          <a href="hash-maps.html" class="nav-item">Hash Maps</a>
          <a href="hash-map-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Hash Map</a>
          <a href="trees.html" class="nav-item">Trees</a>
          <a href="bst-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: BST</a>
          <a href="graphs.html" class="nav-item">Graphs</a>
          <a href="graph-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Graph Algo</a>
          <a href="bfs-graph.html" class="nav-item indent">‚Ü≥ Visualizer: BFS</a>
          <a href="pathfinding-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Pathfinding</a>
          <a href="topological-sort-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Topo Sort</a>
          <a href="mst-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: MST</a>
          <a href="union-find.html" class="nav-item indent">‚Ü≥ Visualizer: Union-Find</a>
          <a href="heap.html" class="nav-item">Heaps</a>
          <a href="heap-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Heap</a>
          <a href="tries.html" class="nav-item">Tries</a>
          <a href="trie-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Trie</a>
          <a href="segment-tree.html" class="nav-item">Segment Trees</a>
        </details>
    
        <!-- Algorithms -->
        <details class="nav-section" open>
          <summary class="nav-section-title">Algorithms</summary>
          <a href="sort-search.html" class="nav-item">Sorting & Search</a>
          <a href="sorting-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Sorting</a>
          <a href="binary-search-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Binary Search</a>
          <a href="dynamic-programming.html" class="nav-item">Dynamic Programming</a>
          <a href="knapsack-dp.html" class="nav-item indent">‚Ü≥ Visualizer: Knapsack</a>
          <a href="dp-lcs.html" class="nav-item indent">‚Ü≥ Visualizer: LCS</a>
          <a href="backtracking.html" class="nav-item active">Backtracking</a>
          <a href="n-queens.html" class="nav-item indent">‚Ü≥ Visualizer: N-Queens</a>
          <a href="sudoku-solver.html" class="nav-item indent">‚Ü≥ Visualizer: Sudoku</a>
          <a href="maze-generator.html" class="nav-item indent">‚Ü≥ Visualizer: Maze</a>
          <a href="greedy.html" class="nav-item">Greedy</a>
          <a href="bit-manipulation.html" class="nav-item">Bit Manipulation</a>
          <a href="math-geometry.html" class="nav-item">Math & Geometry</a>
        </details>

        <!-- Patterns -->
        <details class="nav-section">
          <summary class="nav-section-title">Patterns</summary>
          <a href="two-pointers.html" class="nav-item">Two Pointers</a>
          <a href="two-pointers-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Two Pointers</a>
          <a href="sliding-window.html" class="nav-item">Sliding Window</a>
          <a href="sliding-window-visualizer.html" class="nav-item indent">‚Ü≥ Visualizer: Sliding Window</a>
          <a href="fast-slow-pointers.html" class="nav-item">Fast & Slow Pointers</a>
          <a href="binary-search.html" class="nav-item">Binary Search</a>
          <a href="intervals.html" class="nav-item">Intervals</a>
          <a href="prefix-sum.html" class="nav-item">Prefix Sum</a>
        </details>
    
        <!-- System Design -->
        <details class="nav-section">
          <summary class="nav-section-title">System Design</summary>
          <a href="../system-design.html" class="nav-item">System Design Basics</a>
          <a href="../system-design-masterclass.html" class="nav-item">Masterclass (Part 1)</a>
          <a href="../system-design-patterns.html" class="nav-item">System Design Patterns</a>
          <a href="../system-design-checklist.html" class="nav-item">System Design Checklist</a>
          <a href="../system-design-case-studies.html" class="nav-item">Case Studies</a>
          <a href="../system-design-quiz.html" class="nav-item">System Design Quiz</a>
        </details>

        <!-- Guides & Tools -->
        <details class="nav-section">
          <summary class="nav-section-title">Guides & Tools</summary>
          <a href="../pattern-recognition-guide.html" class="nav-item">Pattern Recognition</a>
          <a href="../interview-approach.html" class="nav-item">Interview Approach</a>
          <a href="../complexity-guide.html" class="nav-item">Complexity Analysis</a>
          <a href="../dsa-roadmap.html" class="nav-item">DSA Roadmap</a>
          <a href="../mock-interview-checklist.html" class="nav-item">Mock Interview Checklist</a>
          <a href="../cs-fundamentals.html" class="nav-item">CS Fundamentals</a>
          <a href="../golang-guide.html" class="nav-item">Go Language Guide</a>
          <a href="../osi-layers.html" class="nav-item">OSI Model Deep Dive</a>
          <a href="../tcp-ip-model.html" class="nav-item">TCP/IP Model Deep Dive</a>
          <a href="../go-interview-questions.html" class="nav-item">Go Interview Questions</a>
          <a href="../google-interview-questions.html" class="nav-item">Google Interview Questions</a>
          <a href="../amazon-two-pointers-questions.html" class="nav-item">Amazon Two Pointers Questions</a>
          <a href="../go-interview-plan.html" class="nav-item">üìÖ 14-Day Interview Plan</a>
          <a href="../google-roadmap.html" class="nav-item">üó∫Ô∏è Google Roadmap</a>
          <a href="../cheat-sheet.html" class="nav-item">Pattern Cheat Sheet</a>
          <a href="../dashboard.html" class="nav-item">üìä My Dashboard</a>
          <a href="../mobile-access.html" class="nav-item">üì± Mobile Access</a>
        </details>
      </nav>
    </aside>

    <main class="main-content">
      <div class="content-header">
        <h1>Backtracking Pattern</h1>
        <p>Permutations, combinations, and puzzle solving</p>
      </div>

      <!-- HOW TO SPOT THIS PATTERN -->
      <div class="section" id="spot-pattern" style="background-color: var(--bg-tertiary); padding: 25px; border-radius: 8px; margin-bottom: 30px; border-left: 4px solid #3b82f6;">
        <div class="section-title">
          <span class="emoji">üîç</span> How to Spot This Pattern: The 3-Prong Detection System
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin: 20px 0;">
          <div style="background-color: rgba(59, 130, 246, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;">
            <strong style="color: #3b82f6; display: block; margin-bottom: 10px;">üìä INPUT SIGNAL</strong>
            <ul style="margin: 0; padding-left: 20px; font-size: 0.9rem; color: var(--text-secondary);">
              <li>Array/set of choices</li>
              <li>Need to explore all</li>
              <li>Constraints to check</li>
              <li>Build solutions gradually</li>
            </ul>
          </div>
          
          <div style="background-color: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #10b981;">
            <strong style="color: #10b981; display: block; margin-bottom: 10px;">‚ùì QUESTION SIGNAL</strong>
            <ul style="margin: 0; padding-left: 20px; font-size: 0.9rem; color: var(--text-secondary);">
              <li>Generate permutations</li>
              <li>Find all combinations</li>
              <li>Solve puzzles/sudoku</li>
              <li>Find valid paths</li>
            </ul>
          </div>
          
          <div style="background-color: rgba(245, 158, 11, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">
            <strong style="color: #f59e0b; display: block; margin-bottom: 10px;">‚ö° CONSTRAINT SIGNAL</strong>
            <ul style="margin: 0; padding-left: 20px; font-size: 0.9rem; color: var(--text-secondary);">
              <li>Exponential solutions OK</li>
              <li>Prune invalid branches</li>
              <li>Must restore state</li>
              <li>"All possibilities"</li>
            </ul>
          </div>
        </div>
      </div>
      
      <!-- 1. Amazon Expects -->
      <div class="section">
        <div class="section-title">‚úÖ 1. What Amazon EXPECTS</div>
        <div class="callout amazon-expects">
          <div class="callout-title">Interviewer's Checklist</div>
          <div class="callout-content">
            <ul>
              <li><strong>State Management:</strong> Can you cleanly add to the current state, recurse, and then <em>undo</em> (backtrack) the change?</li>
              <li><strong>Pruning:</strong> Do you identify invalid paths early to save computation? (e.g., in Sudoku, stop if a number is already in the row).</li>
              <li><strong>Base Cases:</strong> Is your termination logic correct? (e.g., when `path.length == nums.length`).</li>
              <li><strong>Complexity Awareness:</strong> Do you acknowledge that backtracking is often exponential (O(N!), O(2^N)) and explain why it's necessary?</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 2. Core Concept -->
      <div class="section">
        <div class="section-title">üß† 2. Core Concept Theory</div>
        <div class="callout key-intuition">
          <div class="callout-title">Controlled Recursion</div>
          <div class="callout-content">
            <p><strong>What is it?</strong> Backtracking is a problem-solving algorithmic technique that involves finding a solution incrementally by trying different options and undoing them if they lead to a dead end.</p>
            <p>It works by trying out different paths, and if one doesn't work, then backtracking and trying another until the right one is found. It's like solving a puzzle by testing different pieces until they fit together perfectly.</p>
          </div>
        </div>
        
        <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px; margin-top: 20px;">
          <strong style="color: var(--text-primary);">How It Works (General Outline):</strong>
          <ol style="margin-top: 10px; margin-left: 20px; color: var(--text-secondary);">
            <li><strong>Choose</strong> an initial solution or starting point.</li>
            <li><strong>Explore</strong> all possible extensions of the current solution.</li>
            <li><strong>Check:</strong> If an extension leads to a solution, return it.</li>
            <li><strong>Backtrack:</strong> If an extension does not lead to a solution (dead end), undo the last step and try a different extension.</li>
            <li><strong>Repeat</strong> until all possibilities are exhausted or a solution is found.</li>
          </ol>
        </div>

        <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px; margin-top: 20px;">
          <strong style="color: var(--callout-blue);">When to Use:</strong>
          <ul style="margin-top: 10px; margin-left: 20px; color: var(--text-secondary);">
            <li>There are multiple possible solutions to the problem.</li>
            <li>You need to generate all valid combinations, permutations, or subsets.</li>
            <li>The problem can be broken down into smaller subproblems that can be solved independently.</li>
          </ul>
        </div>
      </div>

      <!-- 3. Real-World Scenario -->
      <div class="section">
        <div class="section-title">üéØ 3. Real-World Software Systems Scenario</div>
        <div class="callout interview-tip">
          <div class="callout-title">Logistics & Configuration</div>
          <div class="callout-content">
            <p><strong>Scenario:</strong> Amazon Logistics needs to load a delivery truck with packages. There are constraints: max weight, max volume, and certain packages cannot be next to each other (hazardous materials). Finding a valid loading configuration is a backtracking problem.</p>
            <p><strong>Other Applications:</strong></p>
            <ul>
              <li><strong>Scheduling:</strong> Assigning shifts to warehouse workers under constraints.</li>
              <li><strong>Network Optimization:</strong> Finding paths in a network that satisfy specific latency/bandwidth criteria.</li>
              <li><strong>Resource Allocation:</strong> Distributing cloud resources (EC2 instances) to tasks.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 4. Visual Explanation -->
      <div class="section">
        <div class="section-title">üñºÔ∏è 4. Visual Explanation</div>
        
        <!-- Interactive Visualizer Link -->
        <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid var(--accent-color); display: flex; justify-content: space-between; align-items: center;">
          <div>
            <strong style="color: var(--text-primary); font-size: 1.1rem;">üöÄ Interactive N-Queens Visualizer</strong>
            <p style="margin-top: 5px; color: var(--text-secondary);">Watch the backtracking algorithm place queens and backtrack on conflicts.</p>
          </div>
          <a href="n-queens.html" class="nav-item" style="background-color: var(--accent-color); color: white; padding: 10px 20px; border-radius: 6px; text-decoration: none; font-weight: bold;">Try It Now ‚Üí</a>
        </div>
        
        <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
          <div style="margin-bottom: 15px;">
            <strong style="color: var(--text-primary);">1. State Space Tree (Permutations)</strong>
            <p style="margin-top: 8px; color: var(--text-secondary);">Visualizing the decision tree for generating permutations of [1, 2, 3]. Notice how we go deep (DFS), find a solution, and then <strong>backtrack</strong> (go up) to explore other branches.</p>
          </div>
          <div style="background-color: white; padding: 15px; border-radius: 8px;">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%23f8fafc'/%3E%3C!-- Styles --%3E%3Cstyle%3E .node { fill: %233b82f6; stroke: %231d4ed8; stroke-width: 2px; } .leaf { fill: %2310b981; stroke: %23047857; } .text { font-family: monospace; font-size: 14px; fill: white; text-anchor: middle; dominant-baseline: middle; } .label { font-family: sans-serif; font-size: 12px; fill: %2364748b; } .path { stroke: %2394a3b8; stroke-width: 2px; fill: none; } .active-path { stroke: %23f59e0b; stroke-width: 3px; stroke-dasharray: 5; animation: dash 2s linear infinite; } @keyframes dash { to { stroke-dashoffset: -10; } } %3C/style%3E%3C!-- Title --%3E%3Ctext x='400' y='30' font-family='sans-serif' font-size='20' font-weight='bold' text-anchor='middle' fill='%23334155'%3EBacktracking: Permutations of [1, 2, 3]%3C/text%3E%3C!-- Tree Structure --%3E%3Cg transform='translate(400, 60)'%3E%3C!-- Root --%3E%3Ccircle cx='0' cy='0' r='20' class='node'/%3E%3Ctext x='0' y='0' class='text'%3E[]%3C/text%3E%3C!-- Level 1 --%3E%3Cline x1='0' y1='20' x2='-150' y2='80' class='path'/%3Cline x1='0' y1='20' x2='0' y2='80' class='path'/%3Cline x1='0' y1='20' x2='150' y2='80' class='path'/%3Ccircle cx='-150' cy='80' r='20' class='node'/%3E%3Ctext x='-150' y='80' class='text'%3E[1]%3C/text%3E%3Ccircle cx='0' cy='80' r='20' class='node' style='opacity: 0.5'/%3E%3Ctext x='0' y='80' class='text'%3E[2]%3C/text%3E%3Ccircle cx='150' cy='80' r='20' class='node' style='opacity: 0.5'/%3E%3Ctext x='150' y='80' class='text'%3E[3]%3C/text%3E%3C!-- Level 2 (from [1]) --%3E%3Cline x1='-150' y1='100' x2='-200' y2='160' class='path'/%3Cline x1='-150' y1='100' x2='-100' y2='160' class='path'/%3Ccircle cx='-200' cy='160' r='22' class='node'/%3E%3Ctext x='-200' y='160' class='text'%3E[1,2]%3C/text%3E%3Ccircle cx='-100' cy='160' r='22' class='node' style='opacity: 0.5'/%3E%3Ctext x='-100' y='160' class='text'%3E[1,3]%3C/text%3E%3C!-- Level 3 (from [1,2]) --%3E%3Cline x1='-200' y1='182' x2='-200' y2='240' class='path'/%3Ccircle cx='-200' cy='240' r='25' class='leaf'/%3E%3Ctext x='-200' y='240' class='text'%3E[1,2,3]%3C/text%3E%3Ctext x='-200' y='275' class='label' text-anchor='middle'%3ESolution 1%3C/text%3E%3C!-- Backtrack Arrows --%3E%3Cpath d='M -170 240 Q -140 200 -170 160' stroke='%23ef4444' stroke-width='2' fill='none' marker-end='url(%23arrow)' stroke-dasharray='4'/%3E%3Ctext x='-130' y='200' fill='%23ef4444' font-size='12' font-family='sans-serif'%3EBacktrack%3C/text%3E%3C/g%3E%3Cdefs%3E%3Cmarker id='arrow' markerWidth='10' markerHeight='10' refX='0' refY='3' orient='auto' markerUnits='strokeWidth'%3E%3Cpath d='M0,0 L0,6 L9,3 z' fill='%23ef4444'/%3E%3C/marker%3E%3C/defs%3E%3C/svg%3E" style="width: 100%; max-width: 700px; margin: 0 auto; display: block;" alt="Backtracking State Space Tree"/>
          </div>
        </div>

        <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px; margin-top: 20px;">
          <div style="margin-bottom: 15px;">
            <strong style="color: var(--text-primary);">2. Maze Exploration (Grid Backtracking)</strong>
            <p style="margin-top: 8px; color: var(--text-secondary);">Finding a path from Top-Left to Bottom-Right. When we hit a wall or dead end, we step back (backtrack) to the previous cell and try a different direction.</p>
          </div>
          <div style="background-color: white; padding: 15px; border-radius: 8px;">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 350'%3E%3Crect width='800' height='350' fill='%23f8fafc'/%3E%3C!-- Grid --%3E%3Cg transform='translate(100, 50)'%3E%3Ctext x='100' y='-20' font-family='sans-serif' font-weight='bold' fill='%23334155' text-anchor='middle'%3EMaze 3x3%3C/text%3E%3C!-- Row 0 --%3E%3Crect x='0' y='0' width='60' height='60' fill='%23dbeafe' stroke='%2394a3b8'/%3E%3Ctext x='30' y='35' text-anchor='middle' fill='%233b82f6' font-weight='bold'%3ES%3C/text%3E%3Crect x='60' y='0' width='60' height='60' fill='%231e293b' stroke='%2394a3b8'/%3E%3Crect x='120' y='0' width='60' height='60' fill='%23ffffff' stroke='%2394a3b8'/%3E%3C!-- Row 1 --%3E%3Crect x='0' y='60' width='60' height='60' fill='%23ffffff' stroke='%2394a3b8'/%3E%3Crect x='60' y='60' width='60' height='60' fill='%23ffffff' stroke='%2394a3b8'/%3E%3Crect x='120' y='60' width='60' height='60' fill='%231e293b' stroke='%2394a3b8'/%3E%3C!-- Row 2 --%3E%3Crect x='0' y='120' width='60' height='60' fill='%231e293b' stroke='%2394a3b8'/%3E%3Crect x='60' y='120' width='60' height='60' fill='%23ffffff' stroke='%2394a3b8'/%3E%3Crect x='120' y='120' width='60' height='60' fill='%23d1fae5' stroke='%2394a3b8'/%3E%3Ctext x='150' y='155' text-anchor='middle' fill='%23059669' font-weight='bold'%3EE%3C/text%3E%3C!-- Path --%3E%3Cpath d='M30,30 L30,90 L90,90 L90,150 L150,150' stroke='%233b82f6' stroke-width='4' fill='none' stroke-dasharray='10'/%3E%3Ccircle cx='30' cy='30' r='5' fill='%233b82f6'/%3E%3Ccircle cx='30' cy='90' r='5' fill='%233b82f6'/%3E%3Ccircle cx='90' cy='90' r='5' fill='%233b82f6'/%3E%3Ccircle cx='90' cy='150' r='5' fill='%233b82f6'/%3E%3Ccircle cx='150' cy='150' r='5' fill='%2310b981'/%3E%3C/g%3E%3C!-- Steps --%3E%3Cg transform='translate(400, 50)'%3E%3Ctext x='0' y='0' font-family='sans-serif' font-weight='bold' fill='%23334155'%3EStep-by-Step Execution:%3C/text%3E%3Ctext x='0' y='30' font-family='monospace' font-size='14' fill='%23475569'%3E1. At (0,0). Try Right (0,1)? Wall ‚ùå%3C/text%3E%3Ctext x='0' y='55' font-family='monospace' font-size='14' fill='%23475569'%3E2. Try Down (1,0)? Open ‚úÖ Move.%3C/text%3E%3Ctext x='0' y='80' font-family='monospace' font-size='14' fill='%23475569'%3E3. At (1,0). Try Right (1,1)? Open ‚úÖ Move.%3C/text%3E%3Ctext x='0' y='105' font-family='monospace' font-size='14' fill='%23475569'%3E4. At (1,1). Try Right (1,2)? Wall ‚ùå%3C/text%3E%3Ctext x='0' y='130' font-family='monospace' font-size='14' fill='%23475569'%3E5. Try Down (2,1)? Open ‚úÖ Move.%3C/text%3E%3Ctext x='0' y='155' font-family='monospace' font-size='14' fill='%23475569'%3E6. At (2,1). Try Right (2,2)? End! üéØ%3C/text%3E%3Ctext x='0' y='190' font-family='sans-serif' font-size='14' fill='%23059669' font-weight='bold'%3EPath Found: (0,0)‚Üí(1,0)‚Üí(1,1)‚Üí(2,1)‚Üí(2,2)%3C/text%3E%3C/g%3E%3C/svg%3E" style="width: 100%; max-width: 700px; margin: 0 auto; display: block;" alt="Rat in a Maze Backtracking"/>
          </div>
        </div>
      </div>

      <!-- 5. Canonical Problem -->
      <div class="section">
        <div class="section-title">üß© 5. Canonical Software Systems Problem</div>
        <div class="callout amazon-expects">
          <div class="callout-title">Permutations (LeetCode 46)</div>
          <div class="callout-content">
            <p><strong>Problem:</strong> Given an array <code>nums</code> of distinct integers, return all the possible permutations. You can return the answer in any order.</p>
            <p><strong>Input:</strong> nums = [1,2,3]<br>
            <strong>Output:</strong> [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]</p>
          </div>
        </div>
      </div>

      <!-- 6. Brute Force -->
      <div class="section">
        <div class="section-title">üî¥ 6. Brute Force vs Backtracking</div>
        <div class="callout common-mistakes">
          <div class="callout-title">Iterative Loops</div>
          <div class="callout-content">
            <p>Trying to write <code>N</code> nested loops for an array of size <code>N</code> is impossible because <code>N</code> is variable. Recursion is required to handle variable depth.</p>
            <p><strong>Backtracking IS the optimized brute force:</strong> It explores the state space tree but <strong>prunes</strong> branches that violate constraints (though for Permutations, we explore all N! valid leaves).</p>
          </div>
        </div>
      </div>

      <!-- 7. Optimized Solution -->
      <div class="section">
        <div class="section-title">üü¢ 7. Optimized Solution</div>
        
        <div class="code-tabs">
            <button class="tab-btn active" onclick="switchTab('go')">Go</button>
            <button class="tab-btn" onclick="switchTab('java')">Java</button>
            <button class="tab-btn" onclick="switchTab('python')">Python</button>
        </div>

        <div class="code-container">
            <!-- GO CODE -->
            <div id="go" class="lang-content active">
                <div class="code-block"><pre>
func permute(nums []int) [][]int {
    var res [][]int
    
    // Helper function for backtracking
    var backtrack func(start int)
    backtrack = func(start int) {
        // Base case: if we have used all numbers
        if start == len(nums) {
            // Make a copy of nums to store in result
            temp := make([]int, len(nums))
            copy(temp, nums)
            res = append(res, temp)
            return
        }
        
        // Explore choices
        for i := start; i < len(nums); i++ {
            // Swap to place nums[i] at current 'start' position
            nums[start], nums[i] = nums[i], nums[start]
            
            // Recurse for the next position
            backtrack(start + 1)
            
            // Backtrack: swap back to restore state
            nums[start], nums[i] = nums[i], nums[start]
        }
    }
    
    backtrack(0)
    return res
}
</pre></div>
            </div>

            <!-- JAVA CODE -->
            <div id="java" class="lang-content">
                <div class="code-block"><pre>
class Solution {
    public List<List<Integer>> permute(int[] nums) {
        List<List<Integer>> result = new ArrayList<>();
        backtrack(result, nums, 0);
        return result;
    }
    
    private void backtrack(List<List<Integer>> result, int[] nums, int start) {
        if (start == nums.length) {
            List<Integer> current = new ArrayList<>();
            for (int num : nums) current.add(num);
            result.add(current);
            return;
        }
        
        for (int i = start; i < nums.length; i++) {
            // Swap
            int temp = nums[start];
            nums[start] = nums[i];
            nums[i] = temp;
            
            // Recurse
            backtrack(result, nums, start + 1);
            
            // Backtrack (Swap back)
            temp = nums[start];
            nums[start] = nums[i];
            nums[i] = temp;
        }
    }
}
</pre></div>
            </div>

            <!-- PYTHON CODE -->
            <div id="python" class="lang-content">
                <div class="code-block"><pre>
class Solution:
    def permute(self, nums: List[int]) -> List[List[int]]:
        res = []
        
        def backtrack(start):
            if start == len(nums):
                res.append(nums[:])
                return
            
            for i in range(start, len(nums)):
                # Swap
                nums[start], nums[i] = nums[i], nums[start]
                # Recurse
                backtrack(start + 1)
                # Backtrack
                nums[start], nums[i] = nums[i], nums[start]
        
        backtrack(0)
        return res
</pre></div>
            </div>
        </div>
      </div>

      <!-- 8. Walkthrough -->
      <div class="section">
        <div class="section-title">üß© 8. Logical Walkthrough</div>
        <p>Trace for <code>nums = [1, 2, 3]</code></p>
        <div class="diagram">
Start(0): [1, 2, 3]
  i=0: Swap(0,0) -> [1, 2, 3]
    Start(1):
      i=1: Swap(1,1) -> [1, 2, 3]
        Start(2):
          i=2: Swap(2,2) -> [1, 2, 3]
            Start(3): Found [1, 2, 3]
          Backtrack(2,2)
      i=2: Swap(1,2) -> [1, 3, 2]
        Start(2):
          i=2: Swap(2,2) -> [1, 3, 2]
            Start(3): Found [1, 3, 2]
          Backtrack(2,2)
      Backtrack(1,2) -> [1, 2, 3]
  Backtrack(0,0)
  
  i=1: Swap(0,1) -> [2, 1, 3]
    ... (Explore permutations starting with 2)
        </div>
      </div>

      <!-- 9. Complexity -->
      <div class="section">
        <div class="section-title">‚öôÔ∏è 9. Complexity Analysis</div>
        <div class="callout amazon-expects">
          <div class="callout-title">Time & Space</div>
          <div class="callout-content">
            <p><strong>Time Complexity: O(N!)</strong></p>
            <p>There are N! permutations. We do O(N) work to copy/print each.</p>
            <p><strong>Space Complexity: O(N)</strong></p>
            <p>Recursion stack depth is N.</p>
          </div>
        </div>
      </div>

      <!-- 10. Classic Problems List -->
      <div class="section">
        <div class="section-title">üìö 10. Classic Backtracking Problems</div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
          <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px;">
            <strong style="color: #10b981;">Easy / Standard</strong>
            <ul style="margin-top: 10px; margin-left: 20px; color: var(--text-secondary);">
              <li>Find all subsets (Power Set)</li>
              <li>Permutations of a String</li>
              <li>Rat in a Maze</li>
              <li>Word Search</li>
            </ul>
          </div>
          <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px;">
            <strong style="color: #f59e0b;">Medium / Hard</strong>
            <ul style="margin-top: 10px; margin-left: 20px; color: var(--text-secondary);">
              <li>N-Queens Problem</li>
              <li>Sudoku Solver</li>
              <li>Knight's Tour</li>
              <li>Hamiltonian Cycle</li>
              <li>m-Coloring Problem</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- LEETCODE PRACTICE QUESTIONS -->
      <div class="section" id="leetcode-practice" style="margin-top: 40px;">
        <div class="section-title">
          <span class="emoji">üéØ</span> LeetCode Practice Questions
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-top: 20px;">
          <!-- EASY -->
          <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px; border-left: 4px solid #10b981;">
            <div style="font-weight: bold; color: #10b981; margin-bottom: 15px;">üü¢ EASY</div>
            <ul style="list-style: none; padding: 0; margin: 0;">
              <li style="margin-bottom: 12px;"><strong>#17</strong> - Letter Combinations of a Phone Number</li>
              <li style="margin-bottom: 12px;"><strong>#784</strong> - Letter Case Permutation</li>
              <li style="margin-bottom: 12px;"><strong>#1079</strong> - Letter Tile Possibilities</li>
              <li style="margin-bottom: 12px;"><strong>#1219</strong> - Path with Maximum Gold</li>
              <li style="margin-bottom: 12px;"><strong>#2317</strong> - Operations on Tree</li>
            </ul>
          </div>
          
          <!-- MEDIUM -->
          <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">
            <div style="font-weight: bold; color: #f59e0b; margin-bottom: 15px;">üü° MEDIUM</div>
            <ul style="list-style: none; padding: 0; margin: 0;">
              <li style="margin-bottom: 12px;"><strong>#39</strong> - Combination Sum</li>
              <li style="margin-bottom: 12px;"><strong>#46</strong> - Permutations (Amazon!)</li>
              <li style="margin-bottom: 12px;"><strong>#78</strong> - Subsets</li>
              <li style="margin-bottom: 12px;"><strong>#79</strong> - Word Search</li>
              <li style="margin-bottom: 12px;"><strong>#90</strong> - Subsets II</li>
            </ul>
          </div>
          
          <!-- HARD -->
          <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px; border-left: 4px solid #ef4444;">
            <div style="font-weight: bold; color: #ef4444; margin-bottom: 15px;">üî¥ HARD</div>
            <ul style="list-style: none; padding: 0; margin: 0;">
              <li style="margin-bottom: 12px;"><strong>#37</strong> - Sudoku Solver</li>
              <li style="margin-bottom: 12px;"><strong>#51</strong> - N-Queens</li>
              <li style="margin-bottom: 12px;"><strong>#52</strong> - N-Queens II</li>
              <li style="margin-bottom: 12px;"><strong>#212</strong> - Word Search II</li>
              <li style="margin-bottom: 12px;"><strong>#980</strong> - Unique Paths III</li>
            </ul>
          </div>
        </div>
      </div>

    </main>
  </div>

  <script src="../script.js"></script>
  <script>
    function switchTab(lang) {
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelectorAll('.lang-content').forEach(content => {
            content.classList.remove('active');
        });
        event.target.classList.add('active');
        document.getElementById(lang).classList.add('active');
        localStorage.setItem('preferredLanguage', lang);
    }
    document.addEventListener('DOMContentLoaded', () => {
        const lang = localStorage.getItem('preferredLanguage') || 'go';
        const btn = document.querySelector(`.tab-btn[onclick*="${lang}"]`);
        if (btn) btn.click();
    });
  </script>
</body>
</html>
