<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hash Maps - Amazon Coding Patterns</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1>Amazon SDE</h1>
                <p>Interview Prep</p>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">Learning Resources</div>
                <a href="../pattern-recognition-guide.html" class="nav-item">Pattern Recognition</a>
                <a href="../interview-approach.html" class="nav-item">Interview Approach</a>
                <a href="../complexity-guide.html" class="nav-item">Complexity Analysis</a>
                <a href="../dsa-roadmap.html" class="nav-item">DSA Roadmap</a>
                <a href="../system-design.html" class="nav-item">System Design Basics</a>
                <a href="../system-design-patterns.html" class="nav-item">System Design Patterns</a>
                <a href="../mock-interview-checklist.html" class="nav-item">Mock Interview Checklist</a>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">Fundamental Patterns</div>
                <a href="two-pointers.html" class="nav-item">Two Pointers</a>
                <a href="sliding-window.html" class="nav-item">Sliding Window</a>
                <a href="binary-search.html" class="nav-item">Binary Search</a>
                <a href="hash-maps.html" class="nav-item active">Hash Maps</a>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">Data Structures</div>
                <a href="linked-lists.html" class="nav-item">Linked Lists</a>
                <a href="trees.html" class="nav-item">Trees</a>
                <a href="graphs.html" class="nav-item">Graphs</a>
                <a href="heap.html" class="nav-item">Heap / Priority Queue</a>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">Back to Home</div>
                <a href="../index.html" class="nav-item">‚Üê Dashboard</a>
            </div>
        </nav>

        <main class="main-content">
            <div class="content-header">
                <h1>Hash Maps & Sets</h1>
                <p>The most versatile data structure for O(1) lookups.</p>
            </div>

            <!-- 1. Amazon Expects -->
            <div class="section">
                <div class="section-title">‚úÖ 1. What Amazon EXPECTS</div>
                <div class="callout amazon-expects">
                    <div class="callout-title">Interviewer's Checklist</div>
                    <div class="callout-content">
                        <ul>
                            <li><strong>Trade-offs:</strong> Do you understand you are trading Space O(n) for Time O(1)?</li>
                            <li><strong>Key Selection:</strong> Can you choose the right key for the map? (e.g., sorted string for anagrams).</li>
                            <li><strong>Collision Handling:</strong> Do you know how collisions are handled internally? (Chaining vs Open Addressing).</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 2. Core Concept -->
            <div class="section">
                <div class="section-title">üß† 2. Core Concept Theory</div>
                <div class="callout key-intuition">
                    <div class="callout-title">Instant Access</div>
                    <div class="callout-content">
                        <p>Hash Maps allow you to store key-value pairs and retrieve them in constant time O(1) on average.</p>
                        <p><strong>Use when:</strong></p>
                        <ul>
                            <li>You need to check for existence of an element.</li>
                            <li>You need to count frequencies of elements.</li>
                            <li>You need to map one value to another (e.g., ID to User).</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 3. Real-World Scenario -->
            <div class="section">
                <div class="section-title">üéØ 3. Real-World Amazon Scenario</div>
                <div class="callout interview-tip">
                    <div class="callout-title">Product Deduplication</div>
                    <div class="callout-content">
                        <p><strong>Scenario:</strong> You are processing a stream of product clicks. You want to count how many times each product (ASIN) was clicked to determine popularity.</p>
                        <p><strong>Solution:</strong> Use a Hash Map where Key = ASIN (String) and Value = Count (Integer).</p>
                    </div>
                </div>
            </div>

            <!-- 4. Visual Explanation -->
            <div class="section">
                <div class="section-title">üñºÔ∏è 4. Visual Explanation</div>
                <div style="background-color: var(--bg-tertiary); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="margin-bottom: 15px;">
                        <strong style="color: var(--text-primary);">Hash Map Internals (GIF Explanation)</strong>
                        <p style="margin-top: 8px; color: var(--text-secondary);">Visualizing how keys are mapped to indices. "Apple" hashes to index 0, "Cherry" to index 1. O(1) access is achieved by jumping directly to the computed index.</p>
                    </div>
                    <div style="background-color: white; padding: 15px; border-radius: 8px;">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 350'%3E%3Crect width='800' height='350' fill='%23f5f5f5'/%3E%3Ctext x='400' y='30' font-size='22' font-weight='bold' text-anchor='middle' fill='%23333'%3EHash Map: Key-Value Storage%3C/text%3E%3C!-- Keys --%3E%3Cg transform='translate(50, 80)'%3E%3Ctext x='0' y='0' font-weight='bold' fill='%23333'%3EKeys%3C/text%3E%3Crect x='0' y='20' width='100' height='40' fill='%232563eb' rx='5'/%3E%3Ctext x='50' y='45' text-anchor='middle' fill='white' font-weight='bold'%3E%22apple%22%3C/text%3E%3Crect x='0' y='80' width='100' height='40' fill='%23ef4444' rx='5'/%3E%3Ctext x='50' y='105' text-anchor='middle' fill='white' font-weight='bold'%3E%22cherry%22%3C/text%3E%3Crect x='0' y='140' width='100' height='40' fill='%2310b981' rx='5'/%3E%3Ctext x='50' y='165' text-anchor='middle' fill='white' font-weight='bold'%3E%22banana%22%3C/text%3E%3C/g%3E%3C!-- Hash Function --%3E%3Cg transform='translate(200, 80)'%3E%3Crect x='0' y='0' width='120' height='200' fill='%23e5e7eb' stroke='%239ca3af' rx='10'/%3E%3Ctext x='60' y='100' text-anchor='middle' fill='%23666' font-weight='bold'%3EHash%3Ctspan x='60' dy='20'%3EFunction%3C/tspan%3E%3C/text%3E%3C/g%3E%3C!-- Buckets --%3E%3Cg transform='translate(400, 80)'%3E%3Ctext x='0' y='0' font-weight='bold' fill='%23333'%3EBuckets (Array)%3C/text%3E%3Crect x='0' y='20' width='300' height='40' fill='%23dbeafe' stroke='%232563eb' stroke-width='2'/%3E%3Ctext x='10' y='45' fill='%232563eb' font-weight='bold'%3EIdx 0:%3C/text%3E%3Ctext x='70' y='45' fill='%23333'%3E{ val: 5 } %3C/text%3E%3Crect x='0' y='80' width='300' height='40' fill='%23fee2e2' stroke='%23ef4444' stroke-width='2'/%3E%3Ctext x='10' y='105' fill='%23ef4444' font-weight='bold'%3EIdx 1:%3C/text%3E%3Ctext x='70' y='105' fill='%23333'%3E{ val: 8 } %3C/text%3E%3Crect x='0' y='140' width='300' height='40' fill='%23f3f4f6' stroke='%239ca3af'/%3E%3Ctext x='10' y='165' fill='%23666'%3EIdx 2:%3C/text%3E%3Crect x='0' y='200' width='300' height='40' fill='%23d1fae5' stroke='%2310b981' stroke-width='2'/%3E%3Ctext x='10' y='225' fill='%2310b981' font-weight='bold'%3EIdx 3:%3C/text%3E%3Ctext x='70' y='225' fill='%23333'%3E{ val: 12 } %3C/text%3E%3C/g%3E%3C!-- Arrows --%3E%3Cpath d='M100,120 L200,140' stroke='%23333' stroke-width='2' stroke-dasharray='5,5'/%3E%3Cpath d='M320,140 L400,120' stroke='%23333' stroke-width='2' marker-end='url(%23arrow)'/%3E%3Ctext x='260' y='250' font-size='14' fill='%23333' text-anchor='middle'%3Ehash(%22apple%22) % 4 = 0%3C/text%3E%3Ctext x='260' y='275' font-size='14' fill='%23333' text-anchor='middle'%3Ehash(%22cherry%22) % 4 = 1%3C/text%3E%3Ctext x='260' y='300' font-size='14' fill='%23333' text-anchor='middle'%3Ehash(%22banana%22) % 4 = 3%3C/text%3E%3C/svg%3E" style="width: 100%; max-width: 700px; margin: 0 auto; display: block;" alt="Hash Map Visualization"/>
                    </div>
                </div>
                <div class="diagram">
Problem: Two Sum (Find pair summing to 9)
Array: [2, 7, 11, 15]

Map (Value -> Index)

Step 1: Val = 2. Need = 9 - 2 = 7.
        Is 7 in Map? No.
        Add {2: 0} to Map.

Step 2: Val = 7. Need = 9 - 7 = 2.
        Is 2 in Map? YES! (Index 0)
        Return [0, 1]
                </div>
            </div>

            <!-- 5. Canonical Problem -->
            <div class="section">
                <div class="section-title">üß© 5. Canonical Amazon Problem</div>
                <div class="callout amazon-expects">
                    <div class="callout-title">Two Sum (LeetCode 1)</div>
                    <div class="callout-content">
                        <p><strong>Problem:</strong> Given an array of integers <code>nums</code> and an integer <code>target</code>, return indices of the two numbers such that they add up to <code>target</code>.</p>
                        <p><strong>Input:</strong> nums = [2,7,11,15], target = 9<br>
                        <strong>Output:</strong> [0,1]</p>
                    </div>
                </div>
            </div>

            <!-- 6. Brute Force -->
            <div class="section">
                <div class="section-title">üî¥ 6. Brute Force Analysis</div>
                <div class="callout common-mistakes">
                    <div class="callout-title">Nested Loops</div>
                    <div class="callout-content">
                        <p>Check every pair (i, j).</p>
                        <p><strong>Time Complexity:</strong> O(n¬≤)</p>
                        <p><strong>Why Amazon Rejects:</strong> O(n¬≤) is unacceptable for large datasets. Hash Map reduces this to O(n).</p>
                    </div>
                </div>
            </div>

            <!-- 7. Optimized Solution -->
            <div class="section">
                <div class="section-title">üü¢ 7. Optimized Solution</div>
                
                <div class="code-tabs">
                    <button class="tab-btn active" onclick="switchTab('go')">Go</button>
                    <button class="tab-btn" onclick="switchTab('java')">Java</button>
                    <button class="tab-btn" onclick="switchTab('python')">Python</button>
                </div>

                <div class="code-container">
                    <!-- GO CODE -->
                    <div id="go" class="lang-content active">
                        <div class="code-block"><pre>
func twoSum(nums []int, target int) []int {
    // Map to store number -> index
    seen := make(map[int]int)

    for i, num := range nums {
        complement := target - num
        
        // Check if complement exists in map
        if idx, ok := seen[complement]; ok {
            return []int{idx, i}
        }
        
        // Store current number and index
        seen[num] = i
    }
    return nil
}
</pre></div>
                    </div>

                    <!-- JAVA CODE -->
                    <div id="java" class="lang-content">
                        <div class="code-block"><pre>
class Solution {
    public int[] twoSum(int[] nums, int target) {
        // Map to store number -> index
        Map<Integer, Integer> map = new HashMap<>();

        for (int i = 0; i < nums.length; i++) {
            int complement = target - nums[i];
            
            if (map.containsKey(complement)) {
                return new int[] { map.get(complement), i };
            }
            
            map.put(nums[i], i);
        }
        
        throw new IllegalArgumentException("No two sum solution");
    }
}
</pre></div>
                    </div>

                    <!-- PYTHON CODE -->
                    <div id="python" class="lang-content">
                        <div class="code-block"><pre>
class Solution:
    def twoSum(self, nums: List[int], target: int) -> List[int]:
        # Dictionary to store number -> index
        seen = {}
        
        for i, num in enumerate(nums):
            complement = target - num
            
            if complement in seen:
                return [seen[complement], i]
            
            seen[num] = i
            
        return []
</pre></div>
                    </div>
                </div>
            </div>

            <!-- 8. Walkthrough -->
            <div class="section">
                <div class="section-title">üß© 8. Logical Walkthrough</div>
                <p>Trace for <code>nums = [2, 7, 11, 15]</code>, <code>target = 9</code></p>
                <table>
                    <thead>
                        <tr>
                            <th>Iter</th>
                            <th>Num</th>
                            <th>Complement (9-Num)</th>
                            <th>In Map?</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>0</td>
                            <td>2</td>
                            <td>7</td>
                            <td>No</td>
                            <td>Add {2: 0} to map</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>7</td>
                            <td>2</td>
                            <td>YES (idx 0)</td>
                            <td>Return [0, 1]</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- 9. Complexity -->
            <div class="section">
                <div class="section-title">‚öôÔ∏è 9. Complexity Analysis</div>
                <div class="callout amazon-expects">
                    <div class="callout-title">Time & Space</div>
                    <div class="callout-content">
                        <p><strong>Time Complexity: O(n)</strong></p>
                        <p>We traverse the list containing <code>n</code> elements exactly once. Each lookup in the table costs only O(1) time.</p>
                        <p><strong>Space Complexity: O(n)</strong></p>
                        <p>The extra space required depends on the number of items stored in the hash table, which stores at most <code>n</code> elements.</p>
                    </div>
                </div>
            </div>

            <!-- 10. Follow-ups -->
            <div class="section">
                <div class="section-title">üü£ 10. Amazon Follow-up Questions</div>
                <div class="callout advanced-followup">
                    <div class="callout-title">Variations</div>
                    <div class="callout-content">
                        <p><strong>Q: What if the array is sorted?</strong><br>
                        A: Use Two Pointers! It takes O(n) time but only O(1) space, which is better than Hash Map's O(n) space.</p>
                        <p><strong>Q: What if we need to return all unique pairs?</strong><br>
                        A: You need to handle duplicates carefully, perhaps by sorting first or using a Set to store result pairs.</p>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script src="../script.js"></script>
    <script>
        // Simple tab switcher logic (can be moved to script.js)
        function switchTab(lang) {
            // Update buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update content
            document.querySelectorAll('.lang-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(lang).classList.add('active');
            
            // Save preference
            localStorage.setItem('preferredLanguage', lang);
        }

        // Load preference
        document.addEventListener('DOMContentLoaded', () => {
            const lang = localStorage.getItem('preferredLanguage') || 'go';
            const btn = document.querySelector(`.tab-btn[onclick*="${lang}"]`);
            if (btn) btn.click();
        });
    </script>
</body>
</html>